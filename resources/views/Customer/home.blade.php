<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/bootstrapLib/bootstrap.min.css">
    <link rel="stylesheet" href="{{asset(\Illuminate\Support\Facades\Storage::url('css/home.css'))}}">
    <link rel="stylesheet" href="{{asset(\Illuminate\Support\Facades\Storage::url('css/intro.css'))}}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/jquery.slick/1.6.0/slick.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="icon" href="/img/page_logo/download-removebg-preview.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{asset(\Illuminate\Support\Facades\Storage::url('css/scroll/hideScrollBar.css'))}}">
    <title>Netfnix</title>
</head>

<body style="background-color: black; ">

    <!-- intro -->

    <div id="container">
        <!-- Edit the letter attr to: N, E, T, F, L, I or X -->
        <netflixintro letter="N">
            <div class="helper-1">
                <div class="effect-brush">
                    <span class="fur-31"></span>
                    <span class="fur-30"></span>
                    <span class="fur-29"></span>
                    <span class="fur-28"></span>
                    <span class="fur-27"></span>
                    <span class="fur-26"></span>
                    <span class="fur-25"></span>
                    <span class="fur-24"></span>
                    <span class="fur-23"></span>
                    <span class="fur-22"></span>
                    <span class="fur-21"></span>
                    <span class="fur-20"></span>
                    <span class="fur-19"></span>
                    <span class="fur-18"></span>
                    <span class="fur-17"></span>
                    <span class="fur-16"></span>
                    <span class="fur-15"></span>
                    <span class="fur-14"></span>
                    <span class="fur-13"></span>
                    <span class="fur-12"></span>
                    <span class="fur-11"></span>
                    <span class="fur-10"></span>
                    <span class="fur-9"></span>
                    <span class="fur-8"></span>
                    <span class="fur-7"></span>
                    <span class="fur-6"></span>
                    <span class="fur-5"></span>
                    <span class="fur-4"></span>
                    <span class="fur-3"></span>
                    <span class="fur-2"></span>
                    <span class="fur-1"></span>
                </div>
                <div class="effect-lumieres">
                    <span class="lamp-1"></span>
                    <span class="lamp-2"></span>
                    <span class="lamp-3"></span>
                    <span class="lamp-4"></span>
                    <span class="lamp-5"></span>
                    <span class="lamp-6"></span>
                    <span class="lamp-7"></span>
                    <span class="lamp-8"></span>
                    <span class="lamp-9"></span>
                    <span class="lamp-10"></span>
                    <span class="lamp-11"></span>
                    <span class="lamp-12"></span>
                    <span class="lamp-13"></span>
                    <span class="lamp-14"></span>
                    <span class="lamp-15"></span>
                    <span class="lamp-16"></span>
                    <span class="lamp-17"></span>
                    <span class="lamp-18"></span>
                    <span class="lamp-19"></span>
                    <span class="lamp-20"></span>
                    <span class="lamp-21"></span>
                    <span class="lamp-22"></span>
                    <span class="lamp-23"></span>
                    <span class="lamp-24"></span>
                    <span class="lamp-25"></span>
                    <span class="lamp-26"></span>
                    <span class="lamp-27"></span>
                    <span class="lamp-28"></span>
                </div>
            </div>
            <div class="helper-2">
                <div class="effect-brush">
                    <span class="fur-31"></span>
                    <span class="fur-30"></span>
                    <span class="fur-29"></span>
                    <span class="fur-28"></span>
                    <span class="fur-27"></span>
                    <span class="fur-26"></span>
                    <span class="fur-25"></span>
                    <span class="fur-24"></span>
                    <span class="fur-23"></span>
                    <span class="fur-22"></span>
                    <span class="fur-21"></span>
                    <span class="fur-20"></span>
                    <span class="fur-19"></span>
                    <span class="fur-18"></span>
                    <span class="fur-17"></span>
                    <span class="fur-16"></span>
                    <span class="fur-15"></span>
                    <span class="fur-14"></span>
                    <span class="fur-13"></span>
                    <span class="fur-12"></span>
                    <span class="fur-11"></span>
                    <span class="fur-10"></span>
                    <span class="fur-9"></span>
                    <span class="fur-8"></span>
                    <span class="fur-7"></span>
                    <span class="fur-6"></span>
                    <span class="fur-5"></span>
                    <span class="fur-4"></span>
                    <span class="fur-3"></span>
                    <span class="fur-2"></span>
                    <span class="fur-1"></span>
                </div>
            </div>
            <div class="helper-3">
                <div class="effect-brush">
                    <span class="fur-31"></span>
                    <span class="fur-30"></span>
                    <span class="fur-29"></span>
                    <span class="fur-28"></span>
                    <span class="fur-27"></span>
                    <span class="fur-26"></span>
                    <span class="fur-25"></span>
                    <span class="fur-24"></span>
                    <span class="fur-23"></span>
                    <span class="fur-22"></span>
                    <span class="fur-21"></span>
                    <span class="fur-20"></span>
                    <span class="fur-19"></span>
                    <span class="fur-18"></span>
                    <span class="fur-17"></span>
                    <span class="fur-16"></span>
                    <span class="fur-15"></span>
                    <span class="fur-14"></span>
                    <span class="fur-13"></span>
                    <span class="fur-12"></span>
                    <span class="fur-11"></span>
                    <span class="fur-10"></span>
                    <span class="fur-9"></span>
                    <span class="fur-8"></span>
                    <span class="fur-7"></span>
                    <span class="fur-6"></span>
                    <span class="fur-5"></span>
                    <span class="fur-4"></span>
                    <span class="fur-3"></span>
                    <span class="fur-2"></span>
                    <span class="fur-1"></span>
                </div>
            </div>
            <div class="helper-4">
                <div class="effect-brush">
                    <span class="fur-31"></span>
                    <span class="fur-30"></span>
                    <span class="fur-29"></span>
                    <span class="fur-28"></span>
                    <span class="fur-27"></span>
                    <span class="fur-26"></span>
                    <span class="fur-25"></span>
                    <span class="fur-24"></span>
                    <span class="fur-23"></span>
                    <span class="fur-22"></span>
                    <span class="fur-21"></span>
                    <span class="fur-20"></span>
                    <span class="fur-19"></span>
                    <span class="fur-18"></span>
                    <span class="fur-17"></span>
                    <span class="fur-16"></span>
                    <span class="fur-15"></span>
                    <span class="fur-14"></span>
                    <span class="fur-13"></span>
                    <span class="fur-12"></span>
                    <span class="fur-11"></span>
                    <span class="fur-10"></span>
                    <span class="fur-9"></span>
                    <span class="fur-8"></span>
                    <span class="fur-7"></span>
                    <span class="fur-6"></span>
                    <span class="fur-5"></span>
                    <span class="fur-4"></span>
                    <span class="fur-3"></span>
                    <span class="fur-2"></span>
                    <span class="fur-1"></span>
                </div>
            </div>
        </netflixintro>
    </div>

    <!-- home page -->

    <div class="container-fluid home">

        <header class="row d-flex fixed-top p-3 justify-content-between" style="background-color:none">
            <section class="col-3">
                <a href="{{route('index')}}">
                    <img class="col-4" src="/img/page_logo/NetFnix Full logo.png" alt="">
                </a>
            </section>

            <section class="col-3 d-flex justify-content-end pe-3">

                <div class=" position-relative border border-0 me-2 rounded-circle text-center" style="height: 3vmax; width: 3vmax; background-color: #ffffff48;">
                    <i class="fa-regular fa-bell position-absolute top-50 start-50 translate-middle" style="font-size: 1.2vmax;color: #ffffff"></i>
                </div>

                <div class="position-relative border border-0 me-2 rounded-circle text-center" style="height: 3vmax; width: 3vmax; background-color: #ffffff48;">
                    <a href="{{route('search')}}">
                        <i class="fa-solid fa-magnifying-glass position-absolute top-50 start-50 translate-middle" style="font-size: 1.2vmax;color: #ffffff"></i>                    
                    </a>
                </div>

                @if(isset($user))
                    <div class="dropdown" >
                        <img class="col-12 border  " style="border-radius: 50%;object-fit: cover; overflow: hidden; height: 3vmax; width: 3vmax;" src="{{asset(\Illuminate\Support\Facades\Storage::url('img/user/').$user -> customer_avatar)}}" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false" height="" alt="">
                        <ul class="dropdown-menu bg-dark" aria-labelledby="dropdownMenuButton1"> 
                            <li><a class="dropdown-item bg-dark text-light" href="{{route('user',$user -> id)}}">Profile</a></li>
                            <li><a class="dropdown-item bg-dark text-light" href="{{route('admin.staffs.login')}}">Admin site</a></li>
                            <li><a class="dropdown-item bg-dark text-light" href="{{route('login.logout')}}">Logout</a></li>
                        </ul>
                    </div>
                @else
                    <div class="dropdown">
                        <img class="col-12 border  " style="border-radius: 50%;object-fit: cover; overflow: hidden;height: 3vmax; width: 3vmax;" src="{{asset(\Illuminate\Support\Facades\Storage::url('img/netfnix/download-removebg-preview.png'))}}" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false" height="" alt="">
                            <ul class="dropdown-menu bg-dark" aria-labelledby="dropdownMenuButton1"> 
                                <li><a class="dropdown-item bg-dark text-light" href="{{route('admin.staffs.login')}}">Admin site</a></li>
                                <li><a class="dropdown-item bg-dark text-light" href="{{route('login.login')}}">Login</a></li>
                            </ul>
                    </div>  
                @endif

            </section>

        </header>

        <!-- movie selection-->

        <section class="movie_selection row mt-5">

            <div class="row justify-content-center mt-5">
                <div class="col-lg-7 col-md-8">
                    <div class="text-center">
                        <h1 class="text-light" style="font-size: 2.5vmax; font-family: 'Poppins', sans-serif;">Movie Selection</h1>
                    </div>
                </div>
            </div>

            <!-- Movie carousel -->

            <section class="p-0">
                <div class="slider col-12">
                    @foreach($movie_show as $movie)
                            <div class="mx-3">
                                <div class="card border-0 rounded-0 ">
                                    <div class="d-flex bg-opacity-25 justify-content-center align-items-end">
                                        <a href="{{route('detail',$movie)}}">
                                            <img src="{{asset(\Illuminate\Support\Facades\Storage::url('img/movie_thumbnail/'). $movie -> thumbnail_img)}}" alt="">
                                        </a>
                                    </div>
                                </div>
                            </div>
                    @endforeach

                </div>
            </section>
        </section>

        <!-- Top Movie -->

        <section class="top_movie">
            <div class="row justify-content-center mt-5">
                <div class="col-lg-7 col-md-8">
                    <div class="text-center">
                        <h1 class="text-light " style="font-size: 2.5vmax; font-family: 'Poppins', sans-serif;">Top Movie</h1>
                    </div>
                </div>
            </div>
            <div class="row mt-3">
                
                @for((int)$i = 0; $i < 4; $i++)
                        <div class="col-6 col-lg-3 mb-5">
                            <div class="card image-container h-100">
                                <div class="background-image">
                                    <div class="overlay-content">
                                        <h1>{{$i + 1}}</h1>
                                    </div>
                                </div>
                                <a href="{{route('detail',$movies[$i])}}">
                                    <img src="{{asset(\Illuminate\Support\Facades\Storage::url('img/movie_poster/'). $movie_show[$i] -> poster_img)}}" alt="Overlay Image" class="overlay-image">
                                </a>
                            </div>
                        </div>
                @endfor

            </div>

        </section>

        <!-- incomming -->
   
        <section class="incomming px-5">
            <div class="row justify-content-center mt-5">
                <div class="col-lg-7 col-md-8">
                    <div class="text-center">
                        <h1 class="text-light " style="font-size: 2.5vmax; font-family: 'Poppins', sans-serif;">Upcomming Movie</h1>
                    </div>
                </div>
            </div>
            
            <div class="row mt-3 mb-5">
                @foreach($movies as $movie)
                    @if($movie -> release_date > $now)
                        <div class="col-3 mb-5">
                            <div class="card" style="width: 23vmax;">
                                    <a href="{{route('detail',$movie)}}">
                                        <img src="{{asset(\Illuminate\Support\Facades\Storage::url('img/movie_thumbnail/'). $movie -> thumbnail_img)}}" class="card-img-top object-fit-cover " style ="opacity:0.9; border-radius :1vmax" alt="...">
                                    </a>
                            </div>
                        </div>
                    @endif
                @endforeach
            </div>          

        </section>


      
    </div>

    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/jquery.slick/1.6.0/slick.min.js"></script>
    <script src="/bootstrapLib/bootstrap.bundle.min.js"></script>
    <script src="{{asset(\Illuminate\Support\Facades\Storage::url('js/home_slider.js'))}}"></script>
    <script src="{{asset(\Illuminate\Support\Facades\Storage::url('js/intro.js'))}}"></script>
    <script src="{{asset(\Illuminate\Support\Facades\Storage::url('js/screenProps/setBrowserSize.js'))}}"></script>
</body>

</html>